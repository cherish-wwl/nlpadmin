webpackJsonp([4],{"+SKV":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("p512"),n={data:function(){return{searchKey:null,loading:!1,tableData:null,currentPage:1,pageSize:5,totalNumber:0,mode:"add",dialogFormVisible:!1,form:{academyName:"",academyDesc:"",academyURL:""},initForm:{academyName:"",academyDesc:"",academyURL:""}}},methods:{querySearch:function(){console.log("===================查询关键字======================"),console.log(this.searchKey),this.loadingTableData()},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.pageSize=e,this.currentPage=1,this.loadingTableData()},handleCurrentChange:function(e){console.log("当前页: "+e),console.log("当前页: "+this.currentPage),this.currentPage=e,this.loadingTableData()},deleteRowData:function(e){var t=this;console.log(e),this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o.d)({id:e.id}).then(function(e){t.loadingTableData(),t.$message({type:"success",message:"删除成功!"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},editRowData:function(e,t){console.log(t),this.form=t,this.mode=e,this.dialogFormVisible=!0},addRowData:function(e){console.log("addTradesRowData"),this.mode=e,this.form=this.initForm,this.dialogFormVisible=!0},loadingTableData:function(){var e=this;Object(o.i)({pageNow:this.currentPage,pageSize:this.pageSize,keyword:this.searchKey}).then(function(t){e.tableData=t.data,e.totalNumber=t.total})},closeDialog:function(){this.dialogFormVisible=!1,this.$refs.ruleForm.resetFields()},submitForm:function(e){var t=this;console.log(this.form),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;"add"==t.mode?Object(o.a)(t.form).then(function(e){t.loadingTableData(),t.closeDialog(),t.$message({message:"保存机构成功！",type:"success"})}):Object(o.j)(t.form).then(function(e){t.loadingTableData(),t.closeDialog(),t.$message({message:"保存机构成功！",type:"success"})})})}},mounted:function(){this.loadingTableData()}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"grid-content"},[a("br"),e._v(" "),a("el-input",{attrs:{placeholder:"请输入内容","prefix-icon":"el-icon-search"},on:{change:e.querySearch},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.querySearch(t)}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}}),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.addRowData("add")}}},[e._v("添加")]),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"academyId",label:"序号",type:"index",align:"center",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"academyName",label:"机构名称","min-width":"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"academyDesc",label:"描述","min-width":"280"}}),e._v(" "),a("el-table-column",{attrs:{prop:"academyPhone",label:"联系人电话","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"academyURL",label:"访问地址","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"90",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.deleteRowData(t.row)}}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.editRowData("edit",t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,15,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalNumber},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"add"==e.mode?"添加机构":"编辑机构",visible:e.dialogFormVisible,width:"40%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"ruleForm",attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"机构名称:","label-width":"180px",prop:"academyName",rules:{required:!0,message:"机构名称不能为空",trigger:"blur"}}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.academyName,callback:function(t){e.$set(e.form,"academyName",t)},expression:"form.academyName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"机构描述:","label-width":"180px"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:6},rows:2,"auto-complete":"off"},model:{value:e.form.academyDesc,callback:function(t){e.$set(e.form,"academyDesc",t)},expression:"form.academyDesc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"访问路径:","label-width":"180px"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.academyURL,callback:function(t){e.$set(e.form,"academyURL",t)},expression:"form.academyURL"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeDialog}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var l=a("/Xao")(n,r,!1,function(e){a("N8vR")},"data-v-abdf6252",null);t.default=l.exports},N8vR:function(e,t,a){var o=a("y1eQ");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a("8bSs")("3bf44ce0",o,!0)},p512:function(e,t,a){"use strict";t.i=function(){return Object(o.a)({url:"/academy/list",method:"post"})},t.g=function(e){return Object(o.a)({url:"/academy/grouplist",method:"post",params:e})},t.h=function(e){return Object(o.a)({url:"/academy/professorlist",method:"post",params:e})},t.a=function(e){return Object(o.a)({url:"/academy/addAcademy",method:"post",params:e})},t.j=function(e){return Object(o.a)({url:"/academy/updateAcademy",method:"post",data:e})},t.d=function(e){return Object(o.a)({url:"/academy/delAcademy",method:"post",params:e})},t.b=function(e){return Object(o.a)({url:"/academy/addGroup",method:"post",params:e})},t.k=function(e){return Object(o.a)({url:"/academy/updateGroup",method:"post",data:e})},t.e=function(e){return Object(o.a)({url:"/academy/delGroup",method:"post",params:e})},t.c=function(e){return Object(o.a)({url:"/academy/addProfessor",method:"post",params:e})},t.l=function(e){return Object(o.a)({url:"/academy/updateProfessor",method:"post",data:e})},t.f=function(e){return Object(o.a)({url:"/academy/delProfessor",method:"post",params:e})};var o=a("vLgD")},y1eQ:function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,"\n.el-pagination[data-v-abdf6252]{\n  text-align: right;\n}\n.el-input[data-v-abdf6252] {\n  width: 180px;\n}\n",""])}});